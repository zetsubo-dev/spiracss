var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var a,n={exports:{}};function i(){return a||(a=1,e=n,t="undefined"!=typeof window?window:{},i=function(e,t,a){var n,i;if(function(){var t,a={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(t in i=e.lazySizesConfig||e.lazysizesConfig||{},a)t in i||(i[t]=a[t])}(),!t||!t.getElementsByClassName)return{init:function(){},cfg:i,noSupport:!0};var r,o,s,l,d,u,c,f,m,g,p,y,v,h,z,b,A,E,C,L,w,_,M,x,N,R,S,T,W,B,q,k,F,O,I,$,D,P,H,J,j,U,Q,Z,G,K=t.documentElement,V=e.HTMLPictureElement,X="addEventListener",Y="getAttribute",ee=e[X].bind(e),te=e.setTimeout,ae=e.requestAnimationFrame||te,ne=e.requestIdleCallback,ie=/^picture$/i,re=["load","error","lazyincluded","_lazyloaded"],oe={},se=Array.prototype.forEach,le=function(e,t){return oe[t]||(oe[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),oe[t].test(e[Y]("class")||"")&&oe[t]},de=function(e,t){le(e,t)||e.setAttribute("class",(e[Y]("class")||"").trim()+" "+t)},ue=function(e,t){var a;(a=le(e,t))&&e.setAttribute("class",(e[Y]("class")||"").replace(a," "))},ce=function(e,t,a){var n=a?X:"removeEventListener";a&&ce(e,t),re.forEach(function(a){e[n](a,t)})},fe=function(e,a,i,r,o){var s=t.createEvent("Event");return i||(i={}),i.instance=n,s.initEvent(a,!r,!o),s.detail=i,e.dispatchEvent(s),s},me=function(t,a){var n;!V&&(n=e.picturefill||i.pf)?(a&&a.src&&!t[Y]("srcset")&&t.setAttribute("srcset",a.src),n({reevaluate:!0,elements:[t]})):a&&a.src&&(t.src=a.src)},ge=function(e,t){return(getComputedStyle(e,null)||{})[t]},pe=function(e,t,a){for(a=a||e.offsetWidth;a<i.minSize&&t&&!e._lazysizesWidth;)a=t.offsetWidth,t=t.parentNode;return a},ye=(U=[],Q=j=[],Z=function(){var e=Q;for(Q=j.length?U:j,H=!0,J=!1;e.length;)e.shift()();H=!1},G=function(e,a){H&&!a?e.apply(this,arguments):(Q.push(e),J||(J=!0,(t.hidden?te:ae)(Z)))},G._lsFlush=Z,G),ve=function(e,t){return t?function(){ye(e)}:function(){var t=this,a=arguments;ye(function(){e.apply(t,a)})}},he=function(e){var t,n=0,r=i.throttleDelay,o=i.ricTimeout,s=function(){t=!1,n=a.now(),e()},l=ne&&o>49?function(){ne(s,{timeout:o}),o!==i.ricTimeout&&(o=i.ricTimeout)}:ve(function(){te(s)},!0);return function(e){var i;(e=!0===e)&&(o=33),t||(t=!0,(i=r-(a.now()-n))<0&&(i=0),e||i<9?l():te(l,i))}},ze=function(e){var t,n,i=99,r=function(){t=null,e()},o=function(){var e=a.now()-n;e<i?te(o,i-e):(ne||r)(r)};return function(){n=a.now(),t||(t=te(o,i))}},be=(A=/^img$/i,E=/^iframe$/i,C="onscroll"in e&&!/(gle|ing)bot/.test(navigator.userAgent),L=0,w=0,_=0,M=-1,x=function(e){_--,(!e||_<0||!e.target)&&(_=0)},N=function(e){return null==b&&(b="hidden"==ge(t.body,"visibility")),b||!("hidden"==ge(e.parentNode,"visibility")&&"hidden"==ge(e,"visibility"))},R=function(e,a){var n,i=e,r=N(e);for(y-=a,z+=a,v-=a,h+=a;r&&(i=i.offsetParent)&&i!=t.body&&i!=K;)(r=(ge(i,"opacity")||1)>0)&&"visible"!=ge(i,"overflow")&&(n=i.getBoundingClientRect(),r=h>n.left&&v<n.right&&z>n.top-1&&y<n.bottom+1);return r},T=he(S=function(){var e,a,r,o,s,l,c,m,A,E,x,S,T=n.elements;if((f=i.loadMode)&&_<8&&(e=T.length)){for(a=0,M++;a<e;a++)if(T[a]&&!T[a]._lazyRace)if(!C||n.prematureUnveil&&n.prematureUnveil(T[a]))I(T[a]);else if((m=T[a][Y]("data-expand"))&&(l=1*m)||(l=w),E||(E=!i.expand||i.expand<1?K.clientHeight>500&&K.clientWidth>500?500:370:i.expand,n._defEx=E,x=E*i.expFactor,S=i.hFac,b=null,w<x&&_<1&&M>2&&f>2&&!t.hidden?(w=x,M=0):w=f>1&&M>1&&_<6?E:L),A!==l&&(g=innerWidth+l*S,p=innerHeight+l,c=-1*l,A=l),r=T[a].getBoundingClientRect(),(z=r.bottom)>=c&&(y=r.top)<=p&&(h=r.right)>=c*S&&(v=r.left)<=g&&(z||h||v||y)&&(i.loadHidden||N(T[a]))&&(u&&_<3&&!m&&(f<3||M<4)||R(T[a],l))){if(I(T[a]),s=!0,_>9)break}else!s&&u&&!o&&_<4&&M<4&&f>2&&(d[0]||i.preloadAfterLoad)&&(d[0]||!m&&(z||h||v||y||"auto"!=T[a][Y](i.sizesAttr)))&&(o=d[0]||T[a]);o&&!s&&I(o)}}),B=ve(W=function(e){var t=e.target;t._lazyCache?delete t._lazyCache:(x(e),de(t,i.loadedClass),ue(t,i.loadingClass),ce(t,q),fe(t,"lazyloaded"))}),q=function(e){B({target:e.target})},k=function(e,t){var a=e.getAttribute("data-load-mode")||i.iframeLoadMode;0==a?e.contentWindow.location.replace(t):1==a&&(e.src=t)},F=function(e){var t,a=e[Y](i.srcsetAttr);(t=i.customMedia[e[Y]("data-media")||e[Y]("media")])&&e.setAttribute("media",t),a&&e.setAttribute("srcset",a)},O=ve(function(e,t,a,n,r){var o,s,l,d,u,f;(u=fe(e,"lazybeforeunveil",t)).defaultPrevented||(n&&(a?de(e,i.autosizesClass):e.setAttribute("sizes",n)),s=e[Y](i.srcsetAttr),o=e[Y](i.srcAttr),r&&(d=(l=e.parentNode)&&ie.test(l.nodeName||"")),f=t.firesLoad||"src"in e&&(s||o||d),u={target:e},de(e,i.loadingClass),f&&(clearTimeout(c),c=te(x,2500),ce(e,q,!0)),d&&se.call(l.getElementsByTagName("source"),F),s?e.setAttribute("srcset",s):o&&!d&&(E.test(e.nodeName)?k(e,o):e.src=o),r&&(s||d)&&me(e,{src:o})),e._lazyRace&&delete e._lazyRace,ue(e,i.lazyClass),ye(function(){var t=e.complete&&e.naturalWidth>1;f&&!t||(t&&de(e,i.fastLoadedClass),W(u),e._lazyCache=!0,te(function(){"_lazyCache"in e&&delete e._lazyCache},9)),"lazy"==e.loading&&_--},!0)}),I=function(e){if(!e._lazyRace){var t,a=A.test(e.nodeName),n=a&&(e[Y](i.sizesAttr)||e[Y]("sizes")),r="auto"==n;(!r&&u||!a||!e[Y]("src")&&!e.srcset||e.complete||le(e,i.errorClass)||!le(e,i.lazyClass))&&(t=fe(e,"lazyunveilread").detail,r&&Ae.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,_++,O(e,t,r,n,a))}},$=ze(function(){i.loadMode=3,T()}),P=function(){u||(a.now()-m<999?te(P,999):(u=!0,i.loadMode=3,T(),ee("scroll",D,!0)))},{_:function(){m=a.now(),n.elements=t.getElementsByClassName(i.lazyClass),d=t.getElementsByClassName(i.lazyClass+" "+i.preloadClass),ee("scroll",T,!0),ee("resize",T,!0),ee("pageshow",function(e){if(e.persisted){var a=t.querySelectorAll("."+i.loadingClass);a.length&&a.forEach&&ae(function(){a.forEach(function(e){e.complete&&I(e)})})}}),e.MutationObserver?new MutationObserver(T).observe(K,{childList:!0,subtree:!0,attributes:!0}):(K[X]("DOMNodeInserted",T,!0),K[X]("DOMAttrModified",T,!0),setInterval(T,999)),ee("hashchange",T,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(e){t[X](e,T,!0)}),/d$|^c/.test(t.readyState)?P():(ee("load",P),t[X]("DOMContentLoaded",T),te(P,2e4)),n.elements.length?(S(),ye._lsFlush()):T()},checkElems:T,unveil:I,_aLSL:D=function(){3==i.loadMode&&(i.loadMode=2),$()}}),Ae=(o=ve(function(e,t,a,n){var i,r,o;if(e._lazysizesWidth=n,n+="px",e.setAttribute("sizes",n),ie.test(t.nodeName||""))for(r=0,o=(i=t.getElementsByTagName("source")).length;r<o;r++)i[r].setAttribute("sizes",n);a.detail.dataAttr||me(e,a.detail)}),s=function(e,t,a){var n,i=e.parentNode;i&&(a=pe(e,i,a),(n=fe(e,"lazybeforesizes",{width:a,dataAttr:!!t})).defaultPrevented||(a=n.detail.width)&&a!==e._lazysizesWidth&&o(e,i,n,a))},{_:function(){r=t.getElementsByClassName(i.autosizesClass),ee("resize",l)},checkElems:l=ze(function(){var e,t=r.length;if(t)for(e=0;e<t;e++)s(r[e])}),updateElem:s}),Ee=function(){!Ee.i&&t.getElementsByClassName&&(Ee.i=!0,Ae._(),be._())};return te(function(){i.init&&Ee()}),n={cfg:i,autoSizer:Ae,loader:be,init:Ee,uP:me,aC:de,rC:ue,hC:le,fire:fe,gW:pe,rAF:ye}}(t,t.document,Date),t.lazySizes=i,e.exports&&(e.exports=i)),n.exports;var e,t,i}i();var r,o,s,l,d,u={exports:{}};r||(r=1,o=u,s=window,d=function(){l(s.lazySizes),s.removeEventListener("lazyunveilread",d,!0)},l=(l=function(e,t,a){if(e.addEventListener){var n,i,r,s=Array.prototype.forEach,l=/^picture$/i,d="data-aspectratio",u="img["+d+"]",c=function(t){return e.matchMedia?(c=function(e){return!e||(matchMedia(e)||{}).matches})(t):e.Modernizr&&Modernizr.mq?!t||Modernizr.mq(t):!t},f=a.aC,m=a.rC,g=a.cfg;p.prototype={_setupEvents:function(){var e=this,a=function(t){t.naturalWidth<36?e.addAspectRatio(t,!0):e.removeAspectRatio(t,!0)},n=function(){e.processImages()};t.addEventListener("load",function(e){e.target.getAttribute&&e.target.getAttribute(d)&&a(e.target)},!0),addEventListener("resize",function(){var t,n=function(){s.call(e.ratioElems,a)};return function(){clearTimeout(t),t=setTimeout(n,99)}}()),t.addEventListener("DOMContentLoaded",n),addEventListener("load",n)},processImages:function(e){var a,n;e||(e=t),a="length"in e&&!e.nodeName?e:e.querySelectorAll(u);for(n=0;n<a.length;n++)a[n].naturalWidth>36?this.removeAspectRatio(a[n]):this.addAspectRatio(a[n])},getSelectedRatio:function(e){var t,a,n,i,r,o=e.parentNode;if(o&&l.test(o.nodeName||""))for(t=0,a=(n=o.getElementsByTagName("source")).length;t<a;t++)if(i=n[t].getAttribute("data-media")||n[t].getAttribute("media"),g.customMedia[i]&&(i=g.customMedia[i]),c(i)){r=n[t].getAttribute(d);break}return r||e.getAttribute(d)||""},parseRatio:function(){var e=/^\s*([+\d\.]+)(\s*[\/x]\s*([+\d\.]+))?\s*$/,t={};return function(a){var n;return!t[a]&&(n=a.match(e))&&(n[3]?t[a]=n[1]/n[3]:t[a]=1*n[1]),t[a]}}(),addAspectRatio:function(t,a){var n,i=t.offsetWidth,r=t.offsetHeight;a||f(t,"lazyaspectratio"),i<36&&r<=0?i||r&&e.console:(n=this.getSelectedRatio(t),(n=this.parseRatio(n))&&(i?t.style.height=i/n+"px":t.style.width=r*n+"px"))},removeAspectRatio:function(e){m(e,"lazyaspectratio"),e.style.height="",e.style.width="",e.removeAttribute(d)}},(i=function(){(r=e.jQuery||e.Zepto||e.shoestring||e.$)&&r.fn&&!r.fn.imageRatio&&r.fn.filter&&r.fn.add&&r.fn.find?r.fn.imageRatio=function(){return n.processImages(this.find(u).add(this.filter(u))),this}:r=!1})(),setTimeout(i),n=new p,e.imageRatio=n,o.exports&&(o.exports=n)}function p(){this.ratioElems=t.getElementsByClassName("lazyaspectratio"),this._setupEvents(),this.processImages()}}).bind(null,s,s.document),o.exports?l(i()):s.lazySizes?d():s.addEventListener("lazyunveilread",d,!0));var c,f={exports:{}};c||(c=1,function(e){!function(t,a){var n=function(){a(t.lazySizes),t.removeEventListener("lazyunveilread",n,!0)};a=a.bind(null,t,t.document),e.exports?a(i()):t.lazySizes?n():t.addEventListener("lazyunveilread",n,!0)}(window,function(e,t,a){var n,i,r={};function o(e,a,n){if(!r[e]){var i=t.createElement(a?"link":"script"),o=t.getElementsByTagName("script")[0];a?(i.rel="stylesheet",i.href=e):(i.onload=function(){i.onerror=null,i.onload=null,n()},i.onerror=i.onload,i.src=e),r[e]=!0,r[i.src||i.href]=!0,o.parentNode.insertBefore(i,o)}}t.addEventListener&&(i=/\(|\)|\s|'/,n=function(e,a){var n=t.createElement("img");n.onload=function(){n.onload=null,n.onerror=null,n=null,a()},n.onerror=n.onload,n.src=e,n&&n.complete&&n.onload&&n.onload()},addEventListener("lazybeforeunveil",function(e){var t,r,s;if(e.detail.instance==a&&!e.defaultPrevented){var l=e.target;if("none"==l.preload&&(l.preload=l.getAttribute("data-preload")||"auto"),null!=l.getAttribute("data-autoplay"))if(l.getAttribute("data-expand")&&!l.autoplay)try{l.play()}catch(d){}else requestAnimationFrame(function(){l.setAttribute("data-expand","-10"),a.aC(l,a.cfg.lazyClass)});(t=l.getAttribute("data-link"))&&o(t,!0),(t=l.getAttribute("data-script"))&&(e.detail.firesLoad=!0,o(t,null,function(){e.detail.firesLoad=!1,a.fire(l,"_lazyloaded",{},!0,!0)})),(t=l.getAttribute("data-require"))&&(a.cfg.requireJs?a.cfg.requireJs([t]):o(t)),(r=l.getAttribute("data-bg"))&&(e.detail.firesLoad=!0,n(r,function(){l.style.backgroundImage="url("+(i.test(r)?JSON.stringify(r):r)+")",e.detail.firesLoad=!1,a.fire(l,"_lazyloaded",{},!0,!0)})),(s=l.getAttribute("data-poster"))&&(e.detail.firesLoad=!0,n(s,function(){l.poster=s,e.detail.firesLoad=!1,a.fire(l,"_lazyloaded",{},!0,!0)}))}},!1))})}(f));export{e as c,t as g};
